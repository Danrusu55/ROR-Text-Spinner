<div class="container">
  <div class="col-sm-10 col-sm-offset-1 col-xs-12 blog-content">
    <h1> Generated Article: </h1>
    <div class="col-xs-12">
      <% @articleList.each_with_index do |article,index| %>
        <p><%= simple_format(article['title']) %></p>
        <textarea class="js-copytextarea" cols='100'><%= article['title'].gsub("<br>"," ") %></textarea>
        <button class="js-textareacopybtn" style="vertical-align:top;">Copy Title</button>
        <br><br>

        <p><%= simple_format(article['body']) %></p>
        <textarea class="js-copybodyarea" cols='100'><br><br><%= article['body'] %></textarea>
        <button class="js-bodycopybtn" style="vertical-align:top;">Copy Body</button>
        <br><br>

        <p><%= article['keywords'] %></p>
        <textarea class="js-copykeywordsarea" cols='100'><br><br><%= article['body'] %></textarea>
        <button class="js-keywordscopybtn" style="vertical-align:top;">Copy Body</button>
        <br><br>

      <% end %>
      <br>
      <p><%= link_to "GENERATE AGAIN", gen_article_path(@article), class: "some-class" %></p>
    </div>
  </div>
</div>

<script type="text/javascript">
  var copyTextareaBtn = document.querySelector('.js-textareacopybtn');

  copyTextareaBtn.addEventListener('click', function(event) {
  var copyTextarea = document.querySelector('.js-copytextarea');
  copyTextarea.select();

  try {
    var successful = document.execCommand('copy');
    var msg = successful ? 'successful' : 'unsuccessful';
    console.log('Copying text command was ' + msg);
  } catch (err) {
    console.log('Oops, unable to copy');
  }
  });
</script>

<script type="text/javascript">
  var copyTextareaBtn = document.querySelector('.js-bodycopybtn');

  copyTextareaBtn.addEventListener('click', function(event) {
  var copyTextarea = document.querySelector('.js-copybodyarea');
  copyTextarea.select();

  try {
    var successful = document.execCommand('copy');
    var msg = successful ? 'successful' : 'unsuccessful';
    console.log('Copying text command was ' + msg);
  } catch (err) {
    console.log('Oops, unable to copy');
  }
  });
</script>

<script type="text/javascript">
  var copyTextareaBtn = document.querySelector('.js-keywordscopybtn');

  copyTextareaBtn.addEventListener('click', function(event) {
  var copyTextarea = document.querySelector('.js-copykeywordsarea');
  copyTextarea.select();

  try {
    var successful = document.execCommand('copy');
    var msg = successful ? 'successful' : 'unsuccessful';
    console.log('Copying text command was ' + msg);
  } catch (err) {
    console.log('Oops, unable to copy');
  }
  });
</script>
